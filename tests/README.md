# ğŸ¤– WeSee AI ìë™ í…ŒìŠ¤íŠ¸ ì‹œìŠ¤í…œ

GPT-4 Visionì„ í™œìš©í•œ ì™„ì „ ìë™í™”ëœ QA í…ŒìŠ¤íŠ¸ ì‹œìŠ¤í…œì…ë‹ˆë‹¤.

## ğŸŒŸ ì£¼ìš” ê¸°ëŠ¥

### 1. AI ê¸°ë°˜ ì‹œê°ì  í…ŒìŠ¤íŠ¸
- GPT-4 Visionì´ í™”ë©´ì„ ë³´ê³  UI/UX ì´ìŠˆë¥¼ ìë™ìœ¼ë¡œ ê°ì§€
- ë ˆì´ì•„ì›ƒ ë¬¸ì œ, ì ‘ê·¼ì„± ì´ìŠˆ, ë””ìì¸ ë¶ˆì¼ì¹˜ ë“±ì„ ìë™ ë°œê²¬
- ëª¨ë°”ì¼ ë°˜ì‘í˜• ë””ìì¸ ìë™ ê²€ì¦

### 2. ìë™ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ìƒì„±
- ì½”ë“œë² ì´ìŠ¤ë¥¼ ë¶„ì„í•˜ì—¬ AIê°€ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ìë™ ìƒì„±
- ì‚¬ìš©ì ìŠ¤í† ë¦¬ë¡œë¶€í„° E2E í…ŒìŠ¤íŠ¸ ìë™ ìƒì„±
- ë²„ê·¸ ë¦¬í¬íŠ¸ë¡œë¶€í„° íšŒê·€ í…ŒìŠ¤íŠ¸ ìë™ ìƒì„±

### 3. ì§€ëŠ¥í˜• ë²„ê·¸ ê°ì§€
- í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ì¤‘ ìë™ìœ¼ë¡œ ë²„ê·¸ë¥¼ íƒì§€
- ì‹¬ê°ë„ ë° ì¹´í…Œê³ ë¦¬ë³„ ë¶„ë¥˜
- ìë™ìœ¼ë¡œ HTML ë²„ê·¸ ë¦¬í¬íŠ¸ ìƒì„±

### 4. ì‚¬ìš©ì í”Œë¡œìš° ë¶„ì„
- ì „ì²´ ì‚¬ìš©ì ì—¬ì •ì„ AIê°€ ë¶„ì„
- ê° ë‹¨ê³„ì˜ UX í’ˆì§ˆ í‰ê°€
- ê°œì„  ì œì•ˆ ìë™ ìƒì„±

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
tests/
â”œâ”€â”€ auth/                    # ì¸ì¦ ê´€ë ¨ í…ŒìŠ¤íŠ¸
â”‚   â”œâ”€â”€ signup.spec.ts      # íšŒì›ê°€ì… í…ŒìŠ¤íŠ¸
â”‚   â””â”€â”€ login.spec.ts       # ë¡œê·¸ì¸ í…ŒìŠ¤íŠ¸
â”œâ”€â”€ couple/                  # ì»¤í”Œ ì—°ê²° í…ŒìŠ¤íŠ¸
â”‚   â””â”€â”€ connection.spec.ts  # ì»¤í”Œ ì´ˆëŒ€ ë° ì—°ê²° í…ŒìŠ¤íŠ¸
â”œâ”€â”€ financial/              # ì¬ë¬´ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸
â”‚   â””â”€â”€ upload.spec.ts      # ì´ë¯¸ì§€ ì—…ë¡œë“œ ë° ë¶„ì„ í…ŒìŠ¤íŠ¸
â”œâ”€â”€ profile/                # í”„ë¡œí•„ ë° ì„¤ì • í…ŒìŠ¤íŠ¸
â”‚   â””â”€â”€ profile-settings.spec.ts
â”œâ”€â”€ utils/                  # ìœ í‹¸ë¦¬í‹° ë° í—¬í¼
â”‚   â”œâ”€â”€ ai-vision.ts        # AI Vision ë¶„ì„ ìœ í‹¸ë¦¬í‹°
â”‚   â”œâ”€â”€ ai-bug-detector.ts  # ìë™ ë²„ê·¸ ê°ì§€ ì‹œìŠ¤í…œ
â”‚   â”œâ”€â”€ test-generator.ts   # AI í…ŒìŠ¤íŠ¸ ìƒì„±ê¸°
â”‚   â”œâ”€â”€ test-helpers.ts     # í…ŒìŠ¤íŠ¸ í—¬í¼ í•¨ìˆ˜ë“¤
â”‚   â””â”€â”€ fixtures.ts         # Playwright í”½ìŠ¤ì²˜
â””â”€â”€ test-assets/            # í…ŒìŠ¤íŠ¸ìš© ì´ë¯¸ì§€ ë“±
    â””â”€â”€ images/
        â””â”€â”€ receipt.jpg     # í…ŒìŠ¤íŠ¸ìš© ì˜ìˆ˜ì¦ ì´ë¯¸ì§€
```

## ğŸš€ ì‹œì‘í•˜ê¸°

### 1. í™˜ê²½ ì„¤ì •

`.env.local` íŒŒì¼ì— OpenAI API í‚¤ë¥¼ ì¶”ê°€í•˜ì„¸ìš”:

```bash
OPENAI_API_KEY=your_openai_api_key_here
```

### 2. Playwright ë¸Œë¼ìš°ì € ì„¤ì¹˜

```bash
npx playwright install
```

### 3. í…ŒìŠ¤íŠ¸ ì‹¤í–‰

#### ì „ì²´ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
```bash
npm test
```

#### UI ëª¨ë“œë¡œ í…ŒìŠ¤íŠ¸ (ì¶”ì²œ)
```bash
npm run test:ui
```

#### íŠ¹ì • í…ŒìŠ¤íŠ¸ ê·¸ë£¹ë§Œ ì‹¤í–‰
```bash
npm run test:auth        # ì¸ì¦ í…ŒìŠ¤íŠ¸ë§Œ
npm run test:couple      # ì»¤í”Œ ì—°ê²° í…ŒìŠ¤íŠ¸ë§Œ
npm run test:financial   # ì¬ë¬´ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ë§Œ
npm run test:profile     # í”„ë¡œí•„ í…ŒìŠ¤íŠ¸ë§Œ
```

#### í—¤ë“œë¦¬ìŠ¤ ëª¨ë“œ í•´ì œ (ë¸Œë¼ìš°ì € ë³´ê¸°)
```bash
npm run test:headed
```

#### ë””ë²„ê·¸ ëª¨ë“œ
```bash
npm run test:debug
```

#### í…ŒìŠ¤íŠ¸ ë¦¬í¬íŠ¸ ë³´ê¸°
```bash
npm run test:report
```

## ğŸ“Š í…ŒìŠ¤íŠ¸ ë¦¬í¬íŠ¸

í…ŒìŠ¤íŠ¸ ì‹¤í–‰ í›„ ë‹¤ìŒ ìœ„ì¹˜ì—ì„œ ë¦¬í¬íŠ¸ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

### 1. Playwright HTML ë¦¬í¬íŠ¸
- ìœ„ì¹˜: `test-results/html/index.html`
- ì‹¤í–‰: `npm run test:report`
- ë‚´ìš©: ì „ì²´ í…ŒìŠ¤íŠ¸ ê²°ê³¼, ìŠ¤í¬ë¦°ìƒ·, ë¹„ë””ì˜¤, íŠ¸ë ˆì´ìŠ¤

### 2. AI ë¶„ì„ ê²°ê³¼
- ìœ„ì¹˜: `test-results/ai-analysis/`
- ê° í…ŒìŠ¤íŠ¸ë³„ AI ë¶„ì„ ê²°ê³¼ (JSON + PNG)
- UI/UX ì´ìŠˆ, ê°œì„  ì œì•ˆ í¬í•¨

### 3. AI ë²„ê·¸ ë¦¬í¬íŠ¸
- ìœ„ì¹˜: `test-results/bug-reports/`
- HTML í˜•ì‹ì˜ ìƒì„¸í•œ ë²„ê·¸ ë¦¬í¬íŠ¸
- ìŠ¤í¬ë¦°ìƒ·, ì¬í˜„ ë‹¨ê³„, ìˆ˜ì • ì œì•ˆ í¬í•¨

## ğŸ¯ í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€

### âœ… êµ¬í˜„ëœ í…ŒìŠ¤íŠ¸

#### ì¸ì¦ (Auth)
- [x] íšŒì›ê°€ì… í˜ì´ì§€ ë Œë”ë§
- [x] íšŒì›ê°€ì… ìœ íš¨ì„± ê²€ì¦ (ë¹„ë°€ë²ˆí˜¸ ë¶ˆì¼ì¹˜, ì§§ì€ ë¹„ë°€ë²ˆí˜¸)
- [x] ì™„ì „í•œ íšŒì›ê°€ì… í”Œë¡œìš° (AI ë¶„ì„ í¬í•¨)
- [x] ë¡œê·¸ì¸ í˜ì´ì§€ ë Œë”ë§
- [x] ì˜ëª»ëœ ë¡œê·¸ì¸ ì •ë³´ ì²˜ë¦¬
- [x] ì™„ì „í•œ ë¡œê·¸ì¸ í”Œë¡œìš°
- [x] ëª¨ë°”ì¼ ë°˜ì‘í˜• í…ŒìŠ¤íŠ¸
- [x] ì ‘ê·¼ì„± ê²€ì¦

#### ì»¤í”Œ ì—°ê²° (Couple)
- [x] ì´ˆëŒ€ ì½”ë“œ ìƒì„± í”Œë¡œìš°
- [x] ì™„ì „í•œ ì»¤í”Œ ì—°ê²° í”Œë¡œìš° (ë‘ ì‚¬ìš©ì)
- [x] ì˜ëª»ëœ ì´ˆëŒ€ ì½”ë“œ ì²˜ë¦¬
- [x] ì´ë¯¸ ì—°ê²°ëœ ì‚¬ìš©ì ì²˜ë¦¬
- [x] ì´ˆëŒ€ ì½”ë“œ UI ë³µì‚¬ ê¸°ëŠ¥

#### ì¬ë¬´ ê¸°ëŠ¥ (Financial)
- [x] ì—…ë¡œë“œ í˜ì´ì§€ ë Œë”ë§
- [x] íŒŒì¼ ì„ íƒ UI ì¸í„°ë™ì…˜
- [x] ë‹¤ì¤‘ ì´ë¯¸ì§€ ì—…ë¡œë“œ í”Œë¡œìš°
- [x] ì˜ëª»ëœ íŒŒì¼ í˜•ì‹ ì²˜ë¦¬
- [x] ì¬ë¬´ ë¶„ì„ ê²°ê³¼ í‘œì‹œ
- [x] API ì‘ë‹µ ì‹œê°„ ì¸¡ì •
- [x] ëª¨ë°”ì¼ ì¹´ë©”ë¼ ì´¬ì˜ ì§€ì›

#### í”„ë¡œí•„ ë° ì„¤ì • (Profile)
- [x] í”„ë¡œí•„ í˜ì´ì§€ ë Œë”ë§
- [x] í”„ë¡œí•„ ì •ë³´ í‘œì‹œ
- [x] í”„ë¡œí•„ ì‚¬ì§„ ì—…ë¡œë“œ
- [x] ì„¤ì • í˜ì´ì§€ ì ‘ê·¼
- [x] ë¡œê·¸ì•„ì›ƒ ê¸°ëŠ¥
- [x] ì ‘ê·¼ì„± í…ŒìŠ¤íŠ¸
- [x] ëª¨ë°”ì¼ ë°˜ì‘í˜•

## ğŸ› ï¸ AI ê¸°ëŠ¥ ì‚¬ìš©ë²•

### 1. í˜ì´ì§€ ë¶„ì„

```typescript
import { analyzePageWithAI } from './utils/ai-vision';

const result = await analyzePageWithAI(
  page,
  'íšŒì›ê°€ì… í˜ì´ì§€ê°€ í‘œì‹œë˜ì–´ì•¼ í•©ë‹ˆë‹¤...',
  'íšŒì›ê°€ì… í˜ì´ì§€ ì»¨í…ìŠ¤íŠ¸'
);

console.log(result.passed);       // true/false
console.log(result.issues);       // ë°œê²¬ëœ ì´ìŠˆ ë°°ì—´
console.log(result.suggestions);  // ê°œì„  ì œì•ˆ ë°°ì—´
```

### 2. ì‚¬ìš©ì í”Œë¡œìš° ë¶„ì„

```typescript
import { analyzeUserFlow } from './utils/ai-vision';

const screenshots = [
  { step: 'ë‹¨ê³„1', image: 'base64...', url: 'http://...' },
  { step: 'ë‹¨ê³„2', image: 'base64...', url: 'http://...' },
];

const flowAnalysis = await analyzeUserFlow(
  screenshots,
  'íšŒì›ê°€ì…ë¶€í„° ë¡œê·¸ì¸ê¹Œì§€ì˜ í”Œë¡œìš°'
);

console.log(flowAnalysis.overallPassed);  // true/false
console.log(flowAnalysis.stepResults);    // ë‹¨ê³„ë³„ ê²°ê³¼
console.log(flowAnalysis.flowAnalysis);   // ì „ì²´ ë¶„ì„
```

### 3. ì ‘ê·¼ì„± ë¶„ì„

```typescript
import { analyzeAccessibility } from './utils/ai-vision';

const result = await analyzeAccessibility(page);

console.log(result.score);           // 0-100 ì ìˆ˜
console.log(result.issues);          // ì ‘ê·¼ì„± ì´ìŠˆ
console.log(result.recommendations); // ê°œì„  ê¶Œì¥ì‚¬í•­
```

### 4. ìë™ ë²„ê·¸ ê°ì§€

```typescript
import { scanPageForBugs, saveBugReport } from './utils/ai-bug-detector';

// í˜ì´ì§€ ìŠ¤ìº”
const bugs = await scanPageForBugs(page, 'íšŒì›ê°€ì… í˜ì´ì§€');

// ë²„ê·¸ê°€ ë°œê²¬ë˜ë©´
if (bugs.length > 0) {
  bugs.forEach(bug => {
    console.log(`[${bug.severity}] ${bug.title}`);
    console.log('  ì„¤ëª…:', bug.description);
    console.log('  ìˆ˜ì • ì œì•ˆ:', bug.suggestions);
  });
}
```

### 5. AI í…ŒìŠ¤íŠ¸ ìƒì„±

```typescript
import { 
  generateTestsFromComponent,
  generateE2ETestFromUserStory 
} from './utils/test-generator';

// ì»´í¬ë„ŒíŠ¸ë¡œë¶€í„° í…ŒìŠ¤íŠ¸ ìƒì„±
const testSuite = await generateTestsFromComponent(
  'src/app/signup/page.tsx',
  componentCode
);

// ì‚¬ìš©ì ìŠ¤í† ë¦¬ë¡œë¶€í„° E2E í…ŒìŠ¤íŠ¸ ìƒì„±
const test = await generateE2ETestFromUserStory(
  'ì‚¬ìš©ìê°€ íšŒì›ê°€ì…í•˜ê³  ì»¤í”Œ ì´ˆëŒ€ ì½”ë“œë¥¼ ìƒì„±í•œë‹¤'
);
```

## ğŸ“ í…ŒìŠ¤íŠ¸ ì‘ì„± ê°€ì´ë“œ

### ê¸°ë³¸ í…ŒìŠ¤íŠ¸ êµ¬ì¡°

```typescript
import { test, expect } from '../utils/fixtures';
import { analyzePageWithAI, saveTestResult } from '../utils/ai-vision';

test.describe('ê¸°ëŠ¥ ì´ë¦„', () => {
  test('í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì´ë¦„', async ({ authenticatedPage }) => {
    // 1. í˜ì´ì§€ë¡œ ì´ë™
    await authenticatedPage.goto('/page');
    await waitForPageLoad(authenticatedPage);
    
    // 2. ì•¡ì…˜ ìˆ˜í–‰
    await authenticatedPage.click('button');
    
    // 3. AI ë¶„ì„
    const aiResult = await analyzePageWithAI(
      authenticatedPage,
      'ê¸°ëŒ€í•˜ëŠ” ë™ì‘ ì„¤ëª…',
      'ì»¨í…ìŠ¤íŠ¸'
    );
    
    // 4. ê²°ê³¼ ì €ì¥
    saveTestResult('test-name', aiResult);
    
    // 5. ì–´ì„¤ì…˜
    expect(aiResult.passed).toBe(true);
  });
});
```

### í”½ìŠ¤ì²˜ ì‚¬ìš©

```typescript
// ì¸ì¦ì´ í•„ìš”í•œ í…ŒìŠ¤íŠ¸
test('í”„ë¡œí•„ í™•ì¸', async ({ authenticatedPage, testUser }) => {
  // authenticatedPageëŠ” ì´ë¯¸ ë¡œê·¸ì¸ëœ ìƒíƒœ
  // testUserì—ëŠ” ìƒì„±ëœ ì‚¬ìš©ì ì •ë³´ í¬í•¨
  await authenticatedPage.goto('/profile');
});

// AI ë¶„ì„ í—¬í¼ ì‚¬ìš©
test('UI ê²€ì¦', async ({ page, aiAnalysis }) => {
  await page.goto('/page');
  
  const result = await aiAnalysis(
    'í˜ì´ì§€ê°€ ì˜¬ë°”ë¥´ê²Œ í‘œì‹œë˜ì–´ì•¼ í•©ë‹ˆë‹¤'
  );
});
```

## ğŸ”§ CI/CD í†µí•©

### GitHub Actions ì˜ˆì‹œ

```yaml
name: AI ìë™ í…ŒìŠ¤íŠ¸

on: [push, pull_request]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
        with:
          node-version: '18'
      
      - name: Install dependencies
        run: npm ci
      
      - name: Install Playwright
        run: npx playwright install --with-deps
      
      - name: Run tests
        run: npm run test:ci
        env:
          OPENAI_API_KEY: ${{ secrets.OPENAI_API_KEY }}
      
      - name: Upload test results
        if: always()
        uses: actions/upload-artifact@v3
        with:
          name: test-results
          path: test-results/
```

## ğŸ’¡ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤

### 1. AI ë¶„ì„ í™œìš©
- ëª¨ë“  ì£¼ìš” ì‚¬ìš©ì í”Œë¡œìš°ì— AI ë¶„ì„ ì¶”ê°€
- ìŠ¤í¬ë¦°ìƒ·ì„ ì•ˆì •í™”í•œ í›„ AI ë¶„ì„ ìˆ˜í–‰
- AI ê²°ê³¼ë¥¼ íŒŒì¼ë¡œ ì €ì¥í•˜ì—¬ íˆìŠ¤í† ë¦¬ ì¶”ì 

### 2. í…ŒìŠ¤íŠ¸ ê²©ë¦¬
- ê° í…ŒìŠ¤íŠ¸ëŠ” ë…ë¦½ì ìœ¼ë¡œ ì‹¤í–‰ ê°€ëŠ¥í•´ì•¼ í•¨
- `testUser` í”½ìŠ¤ì²˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ë§¤ë²ˆ ìƒˆë¡œìš´ ì‚¬ìš©ì ìƒì„±
- í…ŒìŠ¤íŠ¸ í›„ ì •ë¦¬(cleanup) ìˆ˜í–‰

### 3. ëŒ€ê¸° ì‹œê°„
- `waitForPageLoad()` ì‚¬ìš©í•˜ì—¬ í˜ì´ì§€ ë¡œë”© ì™„ë£Œ ëŒ€ê¸°
- `stabilizeForScreenshot()` ì‚¬ìš©í•˜ì—¬ ì• ë‹ˆë©”ì´ì…˜ ì™„ë£Œ ëŒ€ê¸°
- API ì‘ë‹µì— ì¶©ë¶„í•œ íƒ€ì„ì•„ì›ƒ ì„¤ì •

### 4. ì—ëŸ¬ ì²˜ë¦¬
- ëª¨ë“  AI ë¶„ì„ì— try-catch ì¶”ê°€
- ì—ëŸ¬ ë°œìƒ ì‹œì—ë„ í…ŒìŠ¤íŠ¸ê°€ ê³„ì† ì§„í–‰ë˜ë„ë¡
- ì—ëŸ¬ë¥¼ ë¡œê·¸ë¡œ ë‚¨ê¸°ê³  ë¦¬í¬íŠ¸ì— í¬í•¨

## ğŸ› ë¬¸ì œ í•´ê²°

### OpenAI API í‚¤ ì˜¤ë¥˜
```
Error: OPENAI_API_KEY í™˜ê²½ë³€ìˆ˜ê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.
```
**í•´ê²°:** `.env.local` íŒŒì¼ì— `OPENAI_API_KEY` ì¶”ê°€

### í…ŒìŠ¤íŠ¸ íƒ€ì„ì•„ì›ƒ
```
Test timeout of 120000ms exceeded
```
**í•´ê²°:** AI ë¶„ì„ì— ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦´ ìˆ˜ ìˆìœ¼ë¯€ë¡œ íƒ€ì„ì•„ì›ƒ ì¦ê°€
```typescript
test.setTimeout(180000); // 3ë¶„
```

### ë¸Œë¼ìš°ì € ì‹¤í–‰ ì˜¤ë¥˜
```
Error: Failed to launch browser
```
**í•´ê²°:** Playwright ë¸Œë¼ìš°ì € ì¬ì„¤ì¹˜
```bash
npx playwright install --with-deps
```

### í…ŒìŠ¤íŠ¸ ì´ë¯¸ì§€ ì—†ìŒ
```
âš ï¸ í…ŒìŠ¤íŠ¸ ì´ë¯¸ì§€ê°€ ì—†ì–´ ìŠ¤í‚µ
```
**í•´ê²°:** `tests/test-assets/images/` í´ë”ì— í…ŒìŠ¤íŠ¸ìš© ì˜ìˆ˜ì¦ ì´ë¯¸ì§€ ì¶”ê°€

## ğŸ“š ì¶”ê°€ ë¦¬ì†ŒìŠ¤

- [Playwright ê³µì‹ ë¬¸ì„œ](https://playwright.dev/)
- [OpenAI Vision API](https://platform.openai.com/docs/guides/vision)
- [WeSee í”„ë¡œì íŠ¸ ë¬¸ì„œ](../README.md)

## ğŸ¤ ê¸°ì—¬í•˜ê¸°

ìƒˆë¡œìš´ í…ŒìŠ¤íŠ¸ë¥¼ ì¶”ê°€í•˜ê±°ë‚˜ ê°œì„  ì‚¬í•­ì´ ìˆë‹¤ë©´:

1. ì ì ˆí•œ í´ë”ì— `.spec.ts` íŒŒì¼ ìƒì„±
2. AI ë¶„ì„ì„ í™œìš©í•œ í…ŒìŠ¤íŠ¸ ì‘ì„±
3. í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ë° ê²€ì¦
4. PR ìƒì„±

## ğŸ“„ ë¼ì´ì„ ìŠ¤

ì´ í…ŒìŠ¤íŠ¸ ì‹œìŠ¤í…œì€ WeSee í”„ë¡œì íŠ¸ì˜ ì¼ë¶€ì…ë‹ˆë‹¤.
